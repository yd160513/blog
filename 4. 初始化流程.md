目标：

- 实例如何创建
  - createApp() // (http://127.0.0.1:5500/packages/runtime-dom/src/index.ts) // vue2: new Vue({}) 
    - createRenderer() 创建了一个渲染器 // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
      - createAppAPI() 创建 vue 实例 (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\apiCreateApp.ts)
        - mount() 中调用了 render(), 这里的 render 方法是传进来的，传入的是 C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts 中的 render 方法。 // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\apiCreateApp.ts)
          - render() 中调用了 path 方法 // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
            - 因为第一次初始化传入的是一个对象，所以调用了 processComponent 方法 // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
              - 因为是初始化，所以调用 mountComponent() // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
                - resolve props and slots for setup context: 执行 setupComponent // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
                  - 根据在调用 createApp 时传入的是一个对象，则确定这是一个状态组件，所以调用 setupStatefulComponent 方法
                - setComponent 方法执行完之后再去执行和 setComponent 方法同级的 setupRenderEffect // (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
                  - 在 setupRednderEffect 方法中获取到虚拟的子树，将虚拟的子树作为新的 vnode 传入到 path 方法中并递归调用。
            - 这一次传入的如果是一个 DOM 节点，则会调用 processElement 方法 (C:\PrivateSpace\learn\vue-next\packages\runtime-core\src\renderer.ts)
              - 因为还处在初始化的过程中，所以只有新的 vnode ，没有旧的，所以会执行 mountElement 方法 (packages\runtime-core\src\renderer.ts) 
              - 也是因为是初始化流程，所以会执行 hostCreateElement 方法，而 hostCreateElement 方法就是 createElement 方法 (packages\runtime-dom\src\nodeOps.ts) 
  - 把所有 subTree 都遍历完成并生成 DOM 之后会执行 nodeOps 中的 insert 方法，进行 DOM 节点插入 (packages\runtime-dom\src\nodeOps.ts)
- setup 如何生效
  - 在 setupStatefulComponent 方法中会判断是否存在 setup 选项
  - 没有 setup 则执行 finishComponentSetup 方法 // (packages\runtime-core\src\component.ts)
- 在没有 setup 的时候如何保证 vue2 中的 options 生效
  - 如果没有 setup 的时候会执行 finishComponentSetup， 在这个方法里会执行 applyOptions 方法 // (packages\runtime-core\src\componentOptions.ts)